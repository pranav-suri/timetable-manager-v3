model Timetable {
  id           Int           @id @default(autoincrement())
  name         String
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  slots        Slot[]
  groups       Group[]
  subdivisions Subdivision[]
  teachers     Teacher[]
  classrooms   Classroom[]

  @@unique([name])
}

model Slot {
  id                      Int                      @id @default(autoincrement())
  day                     Int
  number                  Int
  timetableId             Int
  createdAt               DateTime                 @default(now())
  timetable               Timetable                @relation(fields: [timetableId], references: [id])
  teacherUnavailables     TeacherUnavailable[]
  subdivisionUnavailables SubdivisionUnavailable[]
  classroomUnavailables   ClassroomUnavailable[]
  lectureSlots            LectureSlot[]

  @@unique([day, number, timetableId])
}

model Group {
  id                String    @id @default(nanoid(4))
  name              String
  allowSimultaneous Boolean
  timetableId       String
  timetable         Timetable @relation(fields: [timetableId], references: [id], onDelete: Cascade)
  subjects          Subject[]

  @@unique([name, timetableId])
}

model Subject {
  id                String             @id @default(nanoid(4))
  name              String
  groupId           String
  group             Group              @relation(fields: [groupId], references: [id], onDelete: Cascade)
  lectures          Lecture[]
  subjectTeachers   SubjectTeacher[]
  subjectClassrooms SubjectClassroom[]

  @@unique([name, groupId])
}

model SubjectClassroom {
  id          String    @id @default(nanoid(4))
  classroomId String
  subjectId   String
  classroom   Classroom @relation(fields: [classroomId], references: [id], onDelete: Cascade)
  subject     Subject   @relation(fields: [subjectId], references: [id], onDelete: Cascade)

  @@unique([classroomId, subjectId])
}

model Subdivision {
  id                     String                   @id @default(nanoid(4))
  name                   String
  timetableId            String
  timetable              Timetable                @relation(fields: [timetableId], references: [id])
  subdivsionUnavailables SubdivisionUnavailable[]
  lectureSubdivisions    LectureSubdivision[]

  @@unique([name, timetableId])
}

model SubdivisionUnavailable {
  slotId        String
  subdivisionId String
  slot          Slot        @relation(fields: [slotId], references: [id])
  subdivision   Subdivision @relation(fields: [subdivisionId], references: [id])
  timetableId   String?

  @@id([slotId, subdivisionId])
}

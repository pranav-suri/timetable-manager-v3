model Subdivision {
  id                     String                   @id @default(nanoid(4))
  name                   String
  timetableId            String
  timetable              Timetable                @relation(fields: [timetableId], references: [id], onDelete: Cascade)
  subdivsionUnavailables SubdivisionUnavailable[]
  lectureSubdivisions    LectureSubdivision[]

  @@unique([name, timetableId])
}

model SubdivisionUnavailable {
  id            String      @id @default(nanoid(4))
  slotId        String
  subdivisionId String
  slot          Slot        @relation(fields: [slotId], references: [id], onDelete: Cascade)
  subdivision   Subdivision @relation(fields: [subdivisionId], references: [id], onDelete: Cascade)
  timetableId   String?

  @@unique([slotId, subdivisionId])
}

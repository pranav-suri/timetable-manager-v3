### Next Step Instructions for Step 3.2 - Implement Configuration Management

**Context**: The main GA loop is now functional. However, it currently relies on a hardcoded configuration within the test files. To make the generator flexible and user-controllable, we need a dedicated configuration management system. Step 3.2 focuses on creating this system, allowing for default settings, user overrides, and validation.

**Objective**: Your task is to create a new file, `src/server/services/timetableGenerator/config.ts`, to manage the GA's configuration parameters.

**Key Files to Examine First**:

1.  `memory-bank/tt-gen/steps.md`: Review the detailed requirements for Step 3.2.
2.  `src/server/services/timetableGenerator/types.ts`: This file contains the `GAConfig` and `ConstraintWeights` interfaces that you will be implementing, as well as the `DEFAULT_GA_CONFIG` object that you can use as a starting point.
3.  `src/server/services/timetableGenerator/algorithm.ts`: See how the `config` object is used by the main `runGA` loop. Your new configuration module will provide this object.

**Implementation Guidance**:

1.  **Create `config.ts`**: This file will be the single source of truth for GA configuration.
2.  **Default Configuration**: Define a `DEFAULT_GA_CONFIG` object that contains sensible default values for all parameters listed in the `GAConfig` interface. The `types.ts` file already has a good starting point for this.
3.  **Configuration Merging**: Implement a function that can take a partial user-provided configuration and merge it with the default configuration. This will allow users to override specific parameters without needing to provide the entire configuration object.
    - `function mergeConfig(partialConfig: Partial<GAConfig>): GAConfig`
4.  **Validation**: Create a function to validate a configuration object. It should check that all parameters are within acceptable ranges (e.g., probabilities between 0 and 1, population size > 0). This function should throw an error if the configuration is invalid.
5.  **Presets**: Define a few preset configurations (e.g., `FAST`, `BALANCED`, `THOROUGH`) that adjust key parameters like population size and max generations. This will provide users with easy-to-use starting points.

**Gotchas & Important Considerations**:

- **Deep Merging**: When merging configurations, be sure to handle nested objects like `constraintWeights` correctly. A simple `...` spread will not work for nested objects.
- **Type Safety**: Use the `Partial<GAConfig>` type for the user-provided configuration to ensure type safety while allowing for missing properties.
- **Extensibility**: Design the configuration system to be easily extensible as new parameters are added to the GA in the future.
